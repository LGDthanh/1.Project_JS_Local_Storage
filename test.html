<!DOCTYPE html>
<html>

<head>
    <title>Trang web câu hỏi</title>
    <style>
        .form-input {
            margin-bottom: 10px;
        }

        .hidden {
            display: none;
        }
    </style>
    <script>
        function handleQuestionSelection(event) {
            var selectedOption = event.target.value;
            var questionContainer = document.getElementById("question-container");

            // Ẩn tất cả các câu hỏi trước đó
            var allQuestions = document.getElementsByClassName("question");
            for (var i = 0; i < allQuestions.length; i++) {
                allQuestions[i].classList.add("hidden");
            }

            // Hiển thị câu hỏi tương ứng với lựa chọn
            var selectedQuestion = document.getElementById(selectedOption);
            if (selectedQuestion) {
                selectedQuestion.classList.remove("hidden");
            }

            // Hiển thị container chứa câu hỏi
            questionContainer.classList.remove("hidden");
        }

        function saveQuestion() {
            // Lấy giá trị câu hỏi và số lượng đáp án từ input
            var question = document.getElementById("question-input").value;
            var answerCount = document.getElementById("answer-count-input").value;

            // Tạo các input cho các đáp án và radio buttons cho đáp án đúng
            var answersContainer = document.getElementById("answers-container");
            answersContainer.innerHTML = ""; // Xóa các input cũ

            for (var i = 0; i < answerCount; i++) {
                var answerInput = document.createElement("input");
                answerInput.type = "text";
                answerInput.className = "form-input";
                answerInput.placeholder = "Nhập đáp án " + (i + 1);

                var isCorrectLabel = document.createElement("label");
                isCorrectLabel.textContent = "Đáp án đúng";
                var isCorrectInput = document.createElement("input");
                isCorrectInput.type = "radio";
                isCorrectInput.name = "correct-answer";

                answersContainer.appendChild(isCorrectLabel);
                answersContainer.appendChild(isCorrectInput);
                answersContainer.appendChild(answerInput);
            }

            // Lưu vào localStorage
            localStorage.setItem("question", question);
            localStorage.setItem("answerCount", answerCount);

            // Thông báo cho người dùng rằng câu hỏi đã được lưu
            alert("Câu hỏi đã được lưu!");

            // Xóa giá trị đã nhập
            document.getElementById("question-input").value = "";
            document.getElementById("answer-count-input").value = "";
        }
    </script>
</head>

<body>
    <div id="question">
        <select name="Question" onchange="handleQuestionSelection(event)">
            <option value="menu">Lựa chọn dạng câu hỏi</option>
            <option value="question-1">Dạng câu hỏi 1 đáp án</option>
            <option value="question-2">Dạng câu hỏi điền</option>
            <option value="question-3">Dạng câu hỏi nhiều đáp án</option>
        </select>
    </div>

    <div id="question-container" class="hidden">
        <div id="question-1" class="question hidden">
            <label for="question-input">Nhập câu hỏi</label>
            <input id="question-input" type="text" class="form-input">

            <label for="answer-count-input">Số lượng đáp án</label>
            <input id="answer-count-input" type="number" class="form-input" onchange="showAnswerInputs()">

            <div id="answers-container"></div>

            <button onclick="saveQuestion()">Lưu</button>
        </div>

        <div id="question-2" class="question hidden">
            <!-- Thêm các input cho câu hỏi dạng điền tại đây -->
        </div>

        <div id="question-3" class="question hidden">
            <!-- Thêm các input cho câu hỏi dạng nhiều đáp án tại đây -->
        </div>
    </div>

    <script>
        function showAnswerInputs() {
            var answerCount = document.getElementById("answer-count-input").value;
            var answersContainer = document.getElementById("answers-container");
            answersContainer.innerHTML = ""; // Xóa các input cũ

            for (var i = 0; i < answerCount; i++) {
                var answerInput = document.createElement("input");
                answerInput.type = "text";
                answerInput.className = "form-input";
                answerInput.placeholder = "Nhập đáp án " + (i + 1);

                var isCorrectLabel = document.createElement("label");
                isCorrectLabel.textContent = "Đáp án đúng";
                var isCorrectInput = document.createElement("input");
                isCorrectInput.type = "radio";
                isCorrectInput.name = "correct-answer";

                answersContainer.appendChild(isCorrectLabel);
                answersContainer.appendChild(isCorrectInput);
                answersContainer.appendChild(answerInput);
            }
        }
    </script>
</body>

</html>